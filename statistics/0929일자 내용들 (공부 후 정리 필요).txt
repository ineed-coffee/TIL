상관계수의 절대값의 크기는 직선관계에 가까운 정도
부호는 직선관계의 방향
corr>0 => 점들이 우상향방향으로 띠를 형성, 직선 기울기 양수
corr<0 => 점들이 우하향방향으로 띠를 형성, 직선 기울기 음수

자료 형태 : 양적/질적 자료
양적 자료 : 수치형 자료 => 연속형, 이산형 자료로 구분
질적 자료 : 범주형 자료 => 명목형, 순서형 자료로 구분

1) 수치형
연속형? 값이 끊어지지 않고 연속적으로 이어지는 자료(키, 몸무게 등)
이산형? 정수로 나누어지는 자료(수술 횟수 등)

2) 범주형
명목형? 범주들 간에 순서적인 의미가 없는 자료(혈액형 등)
순서형? 범주들 간에 순서적인 의미가 있는 자료(학점, 아주좋음,좋음,보통... 등)

상관계수는 자료 형태에 따라 종류가 나누어짐

1)피어슨 상관계수(모수적 방법) : 연속형 & 연속형 상관계수
-두 변수가 모두 정규성을 따른다는 가정이 필요(모수적 방법)

모수?모집단 통계치(평균, 표준편차, 분산 등)

모수적 방법? ( 피어슨 상관분석)
중심극한정리? 모집단에서 표본크기가 n인 표본(30개 이상)을 여러 번 추출(예:100번 추출)했을때

표본평균분포 : 1번째 추출:표본평균, ... 100번째 추출:표본 평균 들이 이루는 분포
중심극한정리는 표본의 크기가 커질수록(30개 이상), 표본 평균들이 이루는 분포가 모집단의 평균과
모집단의 표준편차가 정규분포에 가까워진다는 정리

2)
비모수적 방법? (스피어만 상관분석, 켄달)
정규분포를 따르지 않는다고 증명 or 표본이 (30개 미만, 10개 미만) 소규모인 경우에는 정규분포임을
가정할 수 없을때 비모수적 방법을 사용.
자료를 크기 순으로 배열 -> 순위(서열) 매김 -> 순위 합계를 구해서 합계간의 차이를 비교


3)
명목형(이산형)&명목형(이산형) : 파이계수
두 변수가 모두 binary일때 두 변수간의 상관 계수


|상관계수|
0.7이상 => 상관관계가 매우 강함
0.3이상 => 상관관계가 있음
0.1~0.3 => 매우 약한 상관관계가 있음
0~0.1 => 무상관

척도? 변수 값을 표현하는 수준
명명척도(혈액형), 서열척도(순서형,직급), 등간척도(순서 & 간격 일정, 연산 가능)

"""

#상관계수를 제곱하면? 분산(변화량)에서 공유하는 비율
#ex) x,y의 상관계수가 0.7 -> 제곱하면 0.49(49%)
#49%? x의 분산중 49%를 y와 공유한다는 의미임. x의 분산 중 49%가 y 로 설명할 수 있음.

#피어슨 상관계수는 선형적인 관계 측정. 비선형적인 변화의 경우에는 잘 측정하지 못함

#스피어만 상관계수
#서열척도, 비선형적인 관계
import scipy.stats
scipy.stats.spearmanr(x,y).correlation

scipy.stats.kendalltau(x,y).correlation
#켄달 상관계수: 비선형적 & 서열척도(표본이 작을때)


scipy.stats.pearsonr(x,y)
#상관계수 : 0.89, p value : 0.0004

#p value? 0.05(임계치), p값이 0.05보다 작은경우 "통계적으로 유의미하다" 표현
"""
유의수준, 유의확률(p value), 귀무/대립 가설, 1종/2종 오류

귀무/대립 가설?

"20대 남자들의 키와 30대 남자들의 키가 다르다.""

20대와 30대 남자들 각 30명씩 -> 키 측정 -> 각 집단 평균(기술통계)

표본으로 추론 -> 추론 통계: 가설을 세우고 => 그 가설을 입증

귀무 가설 (처음 세운 가설) : 20대 남자들과 30대 남자들의 키가 같을 것이다
대립 가설 (실험자가 입증해야 하는 가설) : 20대 남자들의 키와 30대 남자들의 키가 다를 것이다

추론 통계 -> 귀무가설을 기각

ex) 가설 : 범죄자가 범인이라는 가설을 입증하고자 한다면 -> 귀무가설:"범죄자는 범인이 아니다.""
귀무가설을 기각(범죄자가 범인이다)하기 위해 임증 자료 수집함


실험자가 범할 수 있는 오류
1종 오류: 귀무가설이 참인데 기각한 경우(죄가 없는 범인이 죄가 있다고 말한 경우)
2종 오류: 귀무가설이 거짓인데 기각하지 않은 경우(죄가 있는 범인이 죄가 없다고 말한 경우)

1종(심각) >  2종

*유의 수준 : 1종 오류를 범할 수 있는 최대 허용 한계
ex) 유의수준 : 0.05(5%)로 정함 -> 100번 실험했을 때 1종 오류를 범할 수 있는 최대 허용 한계 5번
              => 정밀도 요구되는 실험 : 0.01(1%)
              
*유의 확률 : p - value,  1종 오류를 범할 확률
ex) 0.05(5%) : 100번 실험했을 때 1종 오류를 5번 범한 경우.
의미? 95% 신뢰도로 귀무가설을 기각한다는 의미
0 <= pvalue <= 1

* p-value값이 유의 수준(0.05)보다 낮다 -> 실험이 통계적으로 의미가 있다!!!

"""

"""
상관분석 고려 사항
-산점도(선형성(직선) 확인)
-곡선형?스피어만, 캔달 상관분석

-상관관계가 있다고 해서 반드시 인과관계가 있는 건 아니다.
ex)제 3변인의 문제
-서울에서 범죄 발생 건수와 종교 시설의 개수  => 양의 상관관계 
-극단치로 인한 인위적 상관관계 있을 수 있음
"""

"""
회귀분석(regression) ? 독립변수(x)로 종속변수(y)를 예측하는 것
혼입변수?모델에는 포함되지 않지만, 종속변수에 영향을 주는 변수
선형회귀분석?독립변수와 종속변수 사이에 직선적인 형태의 관계가 있다고 가정하고 분석
회귀분석은 종속변수가 연속인 경우, 분류는 종속변수 범주인 경우

직선적인 형태? 독립변수가 증가 => 종속변수도 비례하여 증가 or 감소


선형회귀모델에서 x, y 관계 수식 : y=wx+b (w:weight, b:bias)
w:가중치 or 회귀계수, 
독립변수 x가 1증가하면 종속변수 y는 w만큼 증가한다

b:절편(독립변수가 0일때 종속변수 y의 값)


왜도? 데이터의 치우친 정도. 
중앙값 > 평균(오른쪽 길게 늘어진 경우): 왜도가 0보다 큰 양수
중앙값 < 평균(왼쪽 길게 늘어진 경우): 왜도가 0보다 작은 음수
좌우가 대칭(정규분포) : 왜도가 0

첨도? 자료의 분포가 뾰족한 정도
정규분포 : 첨도가 0 or 3
중간이 뾰족한 경우 : 첨도가 0(3)보다 큰 양수
중간이 평평한 경우 : 첨도가 0(3)보다 작은 음수
"""